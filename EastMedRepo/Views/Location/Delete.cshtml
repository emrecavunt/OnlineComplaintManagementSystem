@model EastMed.Data.Model.location

@{
    ViewBag.Title = "Delete location";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="page-header">


    </div>

<div class="col-xs-12 col-md-offset-1 col-md-9 col-lg-9">
    <div class="panel panel-danger">
        <div class="panel-heading">
            <h5>
                <i class="ace-icon fa fa-map-marker"></i>
                Are you sure you want to delete this Location @Model.ROOM_ID ?
            </h5>

        </div>
        <div id="right-menu" class="modal aside" data-body-scroll="false" data-offset="true" data-placement="right" data-fixed="true" data-backdrop="false" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header no-padding">
                        <div class="table-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                <span class="white">&times;</span>
                            </button>
                            Help Desk For User Management
                        </div>
                    </div>

                    <div class="modal-body">
                        <h3 class="lighter">How to Add a User</h3>

                        <br />
                        <span class="coloremu"><i class="menu-icon fa fa-caret-right"></i></span>
                        <strong>Department :</strong>  Choose a department to complaint about.
                        <br />
                        <span class="coloremu"><i class="menu-icon fa fa-caret-right"></i></span>
                        List of Rooms in that department will appear after you choose a department.
                        <br />
                        <span class="coloremu"><i class="menu-icon fa fa-caret-right"></i></span>
                        Choose a Room from that list of rooms.
                        <br />
                        <span class="coloremu"><i class="menu-icon fa fa-caret-right"></i></span>
                        List of ITEMs in that Room will appear after you choose a Room.
                        <br />
                        <span class="coloremu"><i class="menu-icon fa fa-caret-right"></i></span>
                        Choose a Type of complaint about
                        <span class="coloremu"><i class="menu-icon fa fa-caret-right"></i></span>
                        <span class="red"> Hint:</span>  <strong> <u>System category</u> </strong>is related e.g: Computers, Projectors, Printers, Internet Connection issues etc.
                        <strong> <u>Technical Category</u></strong>is related e.g: Table, Chairs, Airconditioners, Boards issues etc.
                        <br />
                        <br />
                        <span class="coloremu"><i class="menu-icon fa fa-caret-right"></i></span>
                        ITEM ID  :
                        Either of you can add the ID of the item if its written on item in that room (Check the computers Screen or computer cabinets to see ID, Other items ID can be found on the corners)
                        or you can take a picture clearly to show which item you want to complaint about and how the issues look like.

                        <br />
                        <span class="coloremu"><i class="menu-icon fa fa-caret-right"></i></span>
                        You can click and take a picture from your phone if you enter from a mobile phone
                        Or if you want you can select from your computer to add a picture.
                        <br />
                        <br />
                        <span class="coloremu"><i class="menu-icon fa fa-caret-right"></i></span>
                        You can write a comment or you can live a blank, But we prefer to you to add a comment to your complaints , so we can understand and prepare for your issues to
                        fix your problems as soon as quickly.
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        1
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        2
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        3
                    </div>
                </div><!-- /.modal-content -->

                <button class="aside-trigger btn btn-info btn-app btn-xs ace-settings-btn" data-target="#right-menu" data-toggle="modal" type="button">
                    <i data-icon1="fa-plus" data-icon2="fa-minus" class="ace-icon fa fa-plus bigger-110 icon-only"></i>
                </button>
            </div><!-- /.modal-dialog -->
        </div>
        <div class="panel-body">
            <div class="form-horizontal ">
               
                    <div class="alert alert-warning">
                        <button type="button" class="close" data-dismiss="alert">
                            <i class="ace-icon fa fa-times"></i>

                        </button>
                        <strong> Warning!</strong>
                        This location will be deleted along with all its items permanentily from database!
                        <br />
                    </div>
                    @if(ViewBag.ErrorMessage !=null)
                    { 
                <div class="alert alert-danger">
                    <button type="button" class="close" data-dismiss="alert">
                        <i class="ace-icon fa fa-times"></i>

                    </button>
                    <strong>
                        @ViewBag.ErrorMessage
                    </strong>
                    <br />
                </div>
                    }
                        <hr />
                        <div class="row center">
                           
                                <div class="col-xs-6 col-md-2 col-sm-6 col-md-offset-2 no-padding-right ">
                                    <ul class="list-unstyled list-striped pricing-table-header ">
                                        <li>
                                             Department  
                                        </li>
                                        <li>
                                               Room No  
                                        </li>

                                        <li>
                                              Room Type  
                                        </li>                                      
                                        <li>
                                            Total Complaint
                                        </li>
                                        <li>
                                            Updated Date  
                                        </li>

                                        <li>
                                            Created date
                                        </li>
                                        <li>
                                              IsActive  
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-xs-6 col-md-4  col-sm-6 no-padding-left">
                                    <ul class="list-unstyled list-striped pricing-table-header ">
                                        <li>
                                            : @Model.departmant.DEPT_NAME
                                        </li>
                                        <li>
                                            : @Model.ROOM_ID.ToUpper()
                                        </li>
                                        <li>
                                            : @Model.TYPE
                                        </li>
                                        
                                        <li>
                                            : @ViewBag.UserName
                                        </li>
                                        <li>
                                            : @Model.UPDATED_DATE
                                        </li>
                                        <li>
                                            : @Model.CREATED_DATE
                                        </li>
                                        <li>
                                          : @Model.IsActive
                                        </li>
                                    </ul>

                                </div>
                              
                               
                            </div>
                               



                          
                        <hr />
                        <div class="row">

                            @if (Model.location_has_item.Any())
                                    {
                                <div class="col-md-6 col-xs-12 col-md-offset-2">
                                    <div class="panel panel-primary">
                                        <div class="panel-heading">
                                            <div class="panel-title">Item's in that Location</div></div>
                                       
                                            <div class="table-responsive">
                                                <table id="dynamic-table2" class="table table-bordered table-striped table-hover ">

                                                    <thead class="thin-border-bottom">

                                                        <tr>
                                                            <th>Item Name</th>
                                                            <th>Item Quantity</th>
                                                        </tr>
                                                    </thead>

                                                    @foreach (var item in Model.location_has_item)
                                                        {
                                                            var id = Model.ID;
                                                        <tr>
                                                            <td>
                                                                @Html.DisplayFor(modelItem => item.item.ITEM_NAME)
                                                            </td>
                                                            <td>
                                                                @Html.DisplayFor(modelItem => item.ItemQuantity)
                                                            </td>
                                                        </tr>
                                                        }
                                                </table>
                                            </div>
                                        
                                        </div>
                                </div>
                            }
                            else
                            {
                                <div class="col-md-6 col-xs-12 col-md-offset-2">
                                    <table class="table table-striped table-bordered table-hover">
                                        <thead class="thin-border-bottom">
                                            <tr>
                                                <th> This location does not have any item!</th>
                                            </tr>
                                        </thead>
                                    </table>
                                    </div>
                                    }
                                </div>
                        @using (Html.BeginForm())
                                            {
                            @Html.AntiForgeryToken()
                            
                                
                                    <div class="form-actions no-color">
                                        
                                            <input type="submit" value="Delete" class="btn btn-sm btn-danger" /> |
                                            @Html.ActionLink("Back to List", "Index", "Location", null, new { @class = "btn btn-white btn-info" })
                                        </div>
                              
                                            }
                    </div>

                
            </div>

        </div>

    </div>
   
   
@section Scripts
{
    <script type="text/javascript">

        jQuery(function ($) {
            $('.modal.aside').ace_aside();

            $('#aside-inside-modal').addClass('aside').ace_aside({ container: '#my-modal > .modal-dialog' });

            //$('#top-menu').modal('show')

            $(document).one('ajaxloadstart.page', function (e) {
                //in ajax mode, remove before leaving page
                $('.modal.aside').remove();
                $(window).off('.aside')
            });
        });

    </script>
}

